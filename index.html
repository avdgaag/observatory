---
---
<!DOCTYPE HTML>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Observatory: a simple observer design pattern implementation</title>
        <link rel="stylesheet" href="http://avdgaag.github.com/project.css">
        <script>
          var _gaq = _gaq || [];
          _gaq.push(['_setAccount', 'UA-20357800-1']);
          _gaq.push(['_trackPageview']);
          (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
          })();
        </script>
    </head>
    <body>
        <div id="page">
            <div id="header">
                <h1>Observatory</h1>
                <h2>a simple observer pattern implementation</h2>
                <ul id="nav">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="http://github.com/avdgaag/observatory">Source</a></li>
                    <li><a href="docs">Docs</a></li>
                    <li><a href="http://github.com/avdgaag/observatory/issues">Issues</a></li>
                </ul>
            </div>
            <div id="content">

                <h3 id="description">Description</h3>

                <p>Observatory is a simple Ruby gem that implements the observer design pattern to facilitate loosely coupled communication between objects in your program. It allows one object to publish an event, and others to respond to that.</p>

                <p>Using Observatory you can apply filters to method arguments, respond to events in your program or dynamically inject new functionality.</p>

                <h3 id="installation">Installation</h3>

                <p>Observatory is distributed as a Ruby gem, so installation is simple:</p>

                <pre><code>$ gem install observatory</code></pre>

                <p>Then, you only need to load it in your program using Bundler or a manual require, like so:</p>

{% highlight ruby %}
require 'observatory'
{% endhighlight %}

                <h3 id="quick_start">Quick start</h3>

                <p>For full documentation refer to the inline API docs (which you can generate using the <code>yard</code> rake task). A quick overview:</p>
{% highlight ruby %}
class Post
  include Observatory::Observable

  attr_reader :dispatcher, :title

  def initialize(title, dispatcher)
    @title = title
    @dispatcher = dispatcher
  end

  def publish
    notify 'post.publish', :title =&gt; title
  end

  def title
    filter('post.title', @title).return_value
  end
end

class Logger
  include Observatory::Observer

  def initialize(dispatcher)
    @dispatcher = dispatcher
  end

  observe 'post.publish'
  def log(event)
    "Post published: #{event[:title]}"
  end
end

dispatcher = Observatory::Dispatcher.new

dispatcher.connect('post.title') do |event, title|
  "Title: #{title}"
end

p = Post.new('foo', dispatcher)
l = Logger.new(dispatcher)

p.publish
# => Outputs: 'Post published: Title: foo'
{% endhighlight %}

                <h3 id="credits">Credits</h3>

                <p>Based on the <a href="http://components.symfony-project.org/event-dispatcher/">Event Dispatcher Symfonoy Component</a>.</p>

            </div>
            <div id="footer">
                <p>Â© copyright 2010 Arjan van der Gaag. Observatory is released under the MIT license (the same as Ruby).</p>
            </div>
        </div>
        <a href="http://github.com/avdgaag/observatory"><img style="position: absolute; top: 0; left: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_left_gray_6d6d6d.png" alt="Fork me on GitHub" /></a>
    </body>
</html>