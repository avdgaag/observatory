<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  File: README
  
    &mdash; Observatory
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '';
  if (relpath != '') relpath += '/';
</script>

  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="_index.html" title="Index">Index</a> &raquo; 
    <span class="title">File: README</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a id="class_list_link" href="#">Class List</a>
  
    <a id="method_list_link" href="#">Method List</a>
  
    <a id="file_list_link" href="#">File List</a>
  
</div>
      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><div id='filecontents'><h1>Observatory</h1>

<h2>Overview</h2>

<h3>Description</h3>

<p>Observatory is a simple Ruby gem that implements the observer design pattern to facilitate loosely coupled communication between objects in your program. It allows one object to publish an event, and others to respond to that.</p>

<p>Using Observatory you can apply filters to method arguments, respond to events in your program or dynamically inject new functionality.</p>

<h3>What's new?</h3>

<p>See HISTORY for a list of changes per version.</p>

<h2>Usage</h2>

<h3>Installation</h3>

<p>Observatory is distributed as a Ruby gem, so installation is simple:</p>

<pre class="code">$ <span class='gem identifier id'>gem</span> <span class='install identifier id'>install</span> <span class='observatory identifier id'>observatory</span>
</pre>

<p>Then, you only need to load it in your program using Bundler or a manual require, like so:</p>

<pre class="code"><span class='require identifier id'>require</span> <span class='string val'>'observatory'</span>
</pre>

<h3>Quick start</h3>

<p>For full documentation refer to the inline API docs (which you can generate using the <code>yard</code> rake task). A quick overview:</p>

<pre class="code"><span class='class class kw'>class</span> <span class='Post constant id'>Post</span>
  <span class='include identifier id'>include</span> <span class='Observatory constant id'>Observatory</span><span class='colon2 op'>::</span><span class='Observable constant id'>Observable</span>

  <span class='attr_reader identifier id'>attr_reader</span> <span class='symbol val'>:dispatcher</span><span class='comma token'>,</span> <span class='symbol val'>:title</span>

  <span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='title identifier id'>title</span><span class='comma token'>,</span> <span class='dispatcher identifier id'>dispatcher</span><span class='rparen token'>)</span>
    <span class='@title ivar id'>@title</span> <span class='assign token'>=</span> <span class='title identifier id'>title</span>
    <span class='@dispatcher ivar id'>@dispatcher</span> <span class='assign token'>=</span> <span class='dispatcher identifier id'>dispatcher</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='publish identifier id'>publish</span>
    <span class='notify identifier id'>notify</span> <span class='string val'>'post.publish'</span><span class='comma token'>,</span> <span class='symbol val'>:title</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='title identifier id'>title</span>
  <span class='end end kw'>end</span>

  <span class='def def kw'>def</span> <span class='title identifier id'>title</span>
    <span class='filter identifier id'>filter</span><span class='lparen token'>(</span><span class='string val'>'post.title'</span><span class='comma token'>,</span> <span class='@title ivar id'>@title</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='return_value identifier id'>return_value</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>

<span class='class class kw'>class</span> <span class='Logger constant id'>Logger</span>
  <span class='include identifier id'>include</span> <span class='Observatory constant id'>Observatory</span><span class='colon2 op'>::</span><span class='Observer constant id'>Observer</span>

  <span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='dispatcher identifier id'>dispatcher</span><span class='rparen token'>)</span>
    <span class='@dispatcher ivar id'>@dispatcher</span> <span class='assign token'>=</span> <span class='dispatcher identifier id'>dispatcher</span>
  <span class='end end kw'>end</span>

  <span class='observe identifier id'>observe</span> <span class='string val'>'post.publish'</span>
  <span class='def def kw'>def</span> <span class='log identifier id'>log</span><span class='lparen token'>(</span><span class='event identifier id'>event</span><span class='rparen token'>)</span>
    <span class='dstring node'>&quot;Post published: #{event[:title]}&quot;</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>

<span class='dispatcher identifier id'>dispatcher</span> <span class='assign token'>=</span> <span class='Observatory constant id'>Observatory</span><span class='colon2 op'>::</span><span class='Dispatcher constant id'>Dispatcher</span><span class='dot token'>.</span><span class='new identifier id'>new</span>

<span class='dispatcher identifier id'>dispatcher</span><span class='dot token'>.</span><span class='connect identifier id'>connect</span><span class='lparen token'>(</span><span class='string val'>'post.title'</span><span class='rparen token'>)</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='event identifier id'>event</span><span class='comma token'>,</span> <span class='title identifier id'>title</span><span class='bitor op'>|</span>
  <span class='dstring node'>&quot;Title: #{title}&quot;</span>
<span class='end end kw'>end</span>

<span class='p identifier id'>p</span> <span class='assign token'>=</span> <span class='Post constant id'>Post</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>'foo'</span><span class='comma token'>,</span> <span class='dispatcher identifier id'>dispatcher</span><span class='rparen token'>)</span>
<span class='l identifier id'>l</span> <span class='assign token'>=</span> <span class='Logger constant id'>Logger</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='dispatcher identifier id'>dispatcher</span><span class='rparen token'>)</span>

<span class='p identifier id'>p</span><span class='dot token'>.</span><span class='publish identifier id'>publish</span>
<span class='comment val'># =&gt; Outputs: 'Post published: Title: foo'</span>
</pre>

<h2>More information</h2>

<h3>To Do</h3>

<ul>
<li>Complete unit tests for mixins.</li>
</ul>


<h3>Note on Patches/Pull Requests</h3>

<ul>
<li>Fork the project.</li>
<li>Make your feature addition or bug fix.</li>
<li>Add tests for it. This is important so I don't break it in a future version unintentionally.</li>
<li>Commit, do not mess with rakefile, version, or history. (if you want to have your own version, that is fine but bump version in a commit by itself I can ignore when I pull)</li>
<li>Send me a pull request. Bonus points for topic branches.</li>
</ul>


<h3>Credits</h3>

<p>By Arjan van der Gaag <a href="&#x6d;&#97;&#105;&#108;&#x74;&#x6f;&#x3a;&#97;&#x72;&#106;&#x61;&#110;&#x40;&#x61;&#x72;&#106;&#x61;&#110;&#x76;&#97;&#x6e;&#100;&#101;&#x72;&#103;&#x61;&#97;&#103;&#46;&#110;&#108;">&#x61;&#x72;&#106;&#x61;&#110;&#64;&#97;&#114;&#x6a;&#97;&#110;&#118;&#97;&#x6e;&#x64;&#101;&#114;&#103;&#x61;&#x61;&#x67;&#46;&#x6e;&#108;</a>. Based on the <a href="http://components.symfony-project.org/event-dispatcher/">Event Dispatcher Symfonoy Component</a>.</p>

<h3>License</h3>

<p>Observatory is released under the same license as Ruby. See LICENSE for more information.</p></div></div>
    
    <div id="footer">
  Generated on Thu May 26 10:00:57 2011 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.7.1 (ruby-1.8.7).
</div>

  </body>
</html>